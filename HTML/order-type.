<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bill Gates - Food Choice</title>
    <link rel="stylesheet" href="style-order-type.css" />
  </head>
  <body>
    <div class="background">
      <div class="particles" id="particles"></div>
    </div>
    <div class="container">
      <div class="header">
        <h1 class="logo">Bill Gates</h1>
        <h2 class="question">B·∫°n ch·ªçn h√¨nh th·ª©c n√†o sau ƒë√¢y?</h2>
        <p class="subtitle">Ch·ªçn h√¨nh th·ª©c b·∫°n mu·ªën d√πngd√πng</p>
      </div>

      <div class="cards-container">
        <div class="card" data-option="eat-in">
          <span class="card-icon">üçΩÔ∏è</span>
          <h3 class="card-title">T·∫°i ch·ªó</h3>
          <p class="card-description">
            Th∆∞·ªüng th·ª©c b·ªØa ƒÉn t·∫°i nh√† h√†ng c·ªßa ch√∫ng t√¥i v·ªõi kh√¥ng gian tho√°ng
            ƒë√£ng v√† ph·ª•c v·ª• chuy√™n nghi·ªáp
          </p>
        </div>

        <div class="card" data-option="take-out">
          <span class="card-icon take-out-icon">üõçÔ∏è</span>
          <h3 class="card-title">Mang ƒëi</h3>
          <p class="card-description">
            ƒê·∫∑t m√≥n v√† mang v·ªÅ nh√† ƒë·ªÉ th∆∞·ªüng th·ª©c c√πng gia ƒë√¨nh v√† b·∫°n b√®
          </p>
        </div>
      </div>
    </div>

    <div class="modal" id="tableModal">
      <div class="modal-content">
        <h3 class="modal-title">üçΩÔ∏è Ch·ªçn b√†n</h3>
        <p class="modal-subtitle">Vui l√≤ng nh·∫≠p s·ªë b√†n b·∫°n mu·ªën ng·ªìi</p>
        <input
          type="number"
          class="table-input"
          id="tableNumber"
          placeholder="S·ªë b√†n (VD: 5)"
          min="1"
          max="50"
        />
        <div class="modal-buttons">
          <button class="btn btn-primary" id="confirmBtn">X√°c nh·∫≠n</button>
          <button class="btn btn-secondary" id="cancelBtn">H·ªßy</button>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const modal = document.getElementById("tableModal");
        const tableInput = document.getElementById("tableNumber");
        const particlesContainer = document.getElementById("particles");
        const confirmButton = document.getElementById("confirmBtn");
        const cancelButton = document.getElementById("cancelBtn");
        const createParticles = () => {
          if (!particlesContainer) return;
          const fragment = document.createDocumentFragment();
          for (let i = 0; i < 30; i++) {
            const particle = document.createElement("div");
            particle.className = "particle";
            particle.style.cssText = `
              left: ${Math.random() * 100}%;
              animation-delay: ${Math.random() * 20}s;
              animation-duration: ${Math.random() * 15 + 10}s;
            `;
            fragment.appendChild(particle);
          }
          particlesContainer.appendChild(fragment);
        };
        const showModal = () => {
          modal.classList.add("show");
          setTimeout(() => tableInput.focus(), 300);
        };

        const closeModal = () => {
          modal.classList.remove("show");
          tableInput.value = "";
        };

        const confirmTable = () => {
          const tableNumber = tableInput.value;
          if (tableNumber && tableNumber > 0) {
            sessionStorage.setItem("tableNumber", tableNumber);
            sessionStorage.setItem("diningType", "eat-in");
            window.location.href = "index.html";
          } else {
            alert("Vui l√≤ng nh·∫≠p s·ªë b√†n h·ª£p l·ªá!");
            tableInput.focus();
          }
        };
        document.querySelectorAll(".card").forEach((card) => {
          card.addEventListener("click", function () {
            const option = this.dataset.option;
            if (option === "eat-in") {
              showModal();
            } else if (option === "take-out") {
              sessionStorage.setItem("diningType", "take-out");
              window.location.href = "index.html";
            }
          });
        });
        confirmButton.addEventListener('click', confirmTable);
        cancelButton.addEventListener('click', closeModal);
        modal.addEventListener("click", (e) => e.target === modal && closeModal());
        document.addEventListener("keydown", (e) => e.key === "Escape" && closeModal());
        tableInput.addEventListener("keypress", (e) => e.key === "Enter" && confirmTable());
        createParticles();
      });
    </script>
  </body>
</html>
